---
title: ARTS003
date: 2020-06-13 15:32:38
tags: ARTS
---
# A.R.T.S 003
<!--more-->

# Algorithm

[Sliding Window Maximum - LeetCode](https://leetcode.com/problems/sliding-window-maximum/)

åˆæ˜¯ä¸€é“ Hardï¼Œå–æ»‘åŠ¨çª—å£ä¸­çš„æœ€å¤§å€¼ã€‚ä¹ä¸€çœ‹ä¸éš¾ï¼Œæš´åŠ›è¿‡ä¸€éå°±å¥½äº†ã€‚çœ‹åˆ°æœ‰ä¸ªæç¤ºï¼Œèƒ½ä¸èƒ½è¾¾æˆçº¿æ€§æ—¶é—´å¤æ‚åº¦ï¼Ÿäºæ˜¯æƒ³äº†åŠå¤©ã€‚

æ²¡æœ‰æ€è·¯ï¼Œå†³å®šå…ˆç”¨æš´åŠ›æ–¹å¼èµ°ä¸€éï¼ŒæŒ‰ç…§æƒ¯ä¾‹ï¼Œè¿˜æ˜¯å…ˆå†™äº†å•å…ƒæµ‹è¯•ï¼Œå†å®Œæˆæ–¹æ³•å®ç°ã€‚

æœ‰æµ‹è¯•ç”¨ä¾‹ä¹‹åéªŒè¯å®ç°ç¡®å®éå¸¸çš„æ–¹ä¾¿å‘€ï¼Œä¸è¿‡å¤ªä¾èµ–æµ‹è¯•ç”¨ä¾‹çš„è¯ï¼Œç»†èŠ‚çš„åœ°æ–¹è„‘å­æ²¡æƒ³æ¸…æ¥šå°±å»è·‘ç”¨ä¾‹äº†ï¼Œä¸æ˜¯ä¸€ä¸ªå¤ªå¥½çš„ä¹ æƒ¯ã€‚ç†æƒ³çš„æƒ…å†µåº”è¯¥æ˜¯å…ˆåœ¨è„‘æµ·ä¸­è¿‡ä¸€éï¼Œæ²¡æœ‰é—®é¢˜äº†å†è·‘æµ‹è¯•ç”¨ä¾‹ã€‚å…»æˆäºŒè¯ä¸è¯´å°±è·‘æµ‹è¯•ç”¨ä¾‹çš„åä¹ æƒ¯åï¼Œæ€•æ˜¯æ‰‹å†™ç®—æ³•å®¹æ˜“åƒäºã€‚

Anywayï¼Œæš´åŠ›æ–¹æ³•æœç„¶è¶…æ—¶äº†ã€‚å†è€ƒè™‘ä¼˜åŒ–æ–¹æ¡ˆã€‚å…¶å®æŒºåƒä¸šåŠ¡å¼€å‘çš„ï¼Œå…ˆæå‡ºä¸€å¥—èƒ½ç”¨çš„ç³»ç»Ÿï¼Œç„¶åå†è¿›è¡Œç»†èŠ‚ä¼˜åŒ–ã€‚

æœ‰ä¸€å¥è¯æ˜¯è¿™ä¹ˆè¯´çš„ï¼Œæ–¹å‘é”™äº†ï¼Œå†åŠªåŠ›ä¹Ÿæ˜¯æµªè´¹æ—¶é—´ã€‚è¿™ç‚¹æŒºéš¾æƒè¡¡çš„ï¼Œç°åœ¨åš Hard éš¾åº¦çš„ç®—æ³•é¢˜ï¼Œæ€»è§‰å¾—æœ‰ä»€ä¹ˆå–å·§çš„åŠæ³•å¯ä»¥æï¼Œè¿Ÿè¿Ÿæ— æ³•ä¸‹æ‰‹ï¼Œä½†æœ€ç»ˆçš„ç­”æ¡ˆå¤§éƒ¨åˆ†åˆæ˜¯èµ°çš„æš´åŠ›è§£çš„æ€è·¯åŠ ä¸Šä¸€ç‚¹ç‚¹ä¼˜åŒ–ï¼Œéš¾æã€‚

ä¸€å¼€å§‹æƒ³åˆ°äº†ç”¨æœ€å¤§å †æ¥æï¼Œä½†æ˜¯æ²¡æƒ³åˆ°æ€ä¹ˆç§»é™¤å³å°†å‡ºé˜Ÿçš„å…ƒç´ ï¼Œå¦å¤–è‡ªå·±å®ç°ä¸€ä¸ªæœ€å¤§å †ä¼¼ä¹æœ‰ç‚¹ç¹çï¼Œæƒ³åˆ°äº† HashMap å†…éƒ¨æœ‰çº¢é»‘æ ‘ç›¸å…³çš„å®ç°ï¼Œäºæ˜¯æ‰¾åˆ°äº† `TreeMap` è¿™ä¸ªè½®å­ï¼ŒåŠ ä¸Šå¼•ç”¨è®¡æ•°ï¼Œç®€å•æå®šã€‚

æ—¶é—´ 50%ï¼Œç©ºé—´åªæ¯” 38.23% çš„äººå°‘ï¼Œçœ‹èµ·æ¥è¿˜æœ‰ä¼˜åŒ–ç©ºé—´ã€‚

çœ‹äº†ä¸€ä¸ªå°åº¦ğŸ‡®ğŸ‡³å°å“¥çš„[æ€è·¯](https://leetcode.com/problems/sliding-window-maximum/discuss/677549/Java-O(n)-solution-with-clear-explanation-using-WhiteBoard)ï¼ŒæŒºæœ‰æ„æ€çš„ã€‚ç”¨æ•°æ®ç»“æ„æ¥å­˜å‚¨ Indexï¼ŒåŒæ—¶è¿˜èƒ½åˆ©ç”¨ä¼ è¿›æ¥çš„å‚æ•°æ˜¯æ•°ç»„çš„ç‰¹æ€§ã€‚Index è¿˜ä¸ä¼šé‡å¤ï¼Œé¿å…äº†å¤„ç†æ•°æ®é‡å¤å¸¦æ¥çš„å¤æ‚åº¦ã€‚

# Review

[Kotlin From Scratch: Exception Handling](https://code.tutsplus.com/tutorials/kotlin-from-scratch-exception-handling--cms-29820)

[Exceptions](https://kotlinlang.org/docs/reference/exceptions.html)

ç†äº†ä¸€ä¸‹ CheckedException å’Œ UnCheckedExceptionï¼Œä¸€ç›´ä¾èµ– IDE æç¤ºï¼Œéƒ½å¿«å¿˜å…‰äº†ã€‚

> Checked exceptions are exceptions that are checked at compile time.

ç¼–è¯‘å™¨ä¼šæ£€æŸ¥ CheckedExceptionã€‚

è°ƒç”¨ä¸€ä¸ªå£°æ˜äº† throws exception çš„æ–¹æ³•ä½†æ²¡æœ‰ try ... catch æˆ–è€…é‡æ–° throwã€‚

æˆ–è€…æ–¹æ³•å®ç°ä¸­æŠ›å‡ºäº† Exception ä½†æ˜¯æ²¡æœ‰å£°æ˜æ–¹æ³•ä¼šæŠ›å‡º Exceptionã€‚

ç»“æœéƒ½æ˜¯æ— æ³•ç¼–è¯‘æˆåŠŸã€‚

Kotlin ä¸­ï¼Œæ‰€æœ‰çš„ Exception éƒ½æ˜¯ UnCheckedExceptionã€‚ç¼–è¯‘å™¨ä¸ä¼šæ£€æŸ¥ä¸€ä¸ªæ–¹æ³•æŠ›å‡ºçš„ Exception æ˜¯å¦è¢« Caller å¤„ç†ã€‚æ‰€ä»¥ `@Throws` Annotation åœ¨ Kotlin ä¸­å‡ ä¹ç›¸å½“äºä¸€ä¸ªæ‘†è®¾ã€‚åªæœ‰åœ¨ Java è°ƒç”¨çš„æ—¶å€™ï¼Œæ‰ä¼šä½œç”¨ä¸º CheckedExceptionã€‚å¦‚æœåœ¨ Kotlin ä¸­è°ƒç”¨ï¼Œè¿ä¸ªé«˜äº®è­¦å‘Šéƒ½æ²¡æœ‰ï¼Œæ„Ÿè§‰æ˜¯ä¸ªå‘ã€‚

æ‰¾äº†ä¸€ä¸‹ï¼Œè¿˜çœŸçš„å‘ç°äº†ä¸€ä¸ªè½®å­å¯ä»¥ç›´æ¥ç”¨ã€‚

[Csense - kotlin checked exceptions - Plugins | JetBrains](https://plugins.jetbrains.com/plugin/12673-csense--kotlin-checked-exceptions)

# Tips

Kotlin çš„ protected æ–¹æ³•çš„å¯è§æ€§ç›¸å½“ä¸ private + visible in subclasses

æ‰€ä»¥éœ€è¦å•å…ƒæµ‹è¯•çš„æ–¹æ³•ä¸èƒ½ç”¨ protected æ¥ä¿®é¥°

![Tips001.png](tips.png)

---

å½“ä¸€ä¸ªæ–¹æ³•è¢«æ ‡æ³¨äº† `Throws(IOException::class)` ï¼Œè€Œåˆæ²¡æœ‰åœ¨ä½¿ç”¨ `[Dispatchers.IO](http://dispatchers.IO)` çš„ CoroutineContext ä¸­è°ƒç”¨ï¼ŒIDEA ä¼šæç¤º `Inappropriate blocking method call`

å¦‚[è¿™é‡Œ](https://discuss.kotlinlang.org/t/warning-inappropriate-blocking-method-call-with-coroutines-how-to-fix/16903/5)æ‰€è¯´ï¼ŒIDEA è®¤ä¸ºè¿™ä¸ªæ–¹æ³•æ˜¯ä¸€ä¸ª IO æ–¹æ³•ï¼Œéœ€è¦ä½¿ç”¨ IO Thread Pool æ¥æ‰§è¡Œï¼Œå¦åˆ™å› ä¸º Blocking IO å¯¼è‡´å½“å‰å·¥ä½œçš„çº¿ç¨‹è¢«é˜»å¡ï¼Œå¯¼è‡´çº¿ç¨‹å¤ç”¨ç‡ä¸‹é™ã€‚

ä½†æ˜¯æˆ‘ä¸èµæˆä»–è¯´çš„åˆ é™¤æ‰ Throws æ³¨è§£ï¼Œè¿™é‡Œå¦‚æœæœ‰å¯èƒ½æŠ›å‡º Exceptionï¼Œè¿˜æ˜¯éœ€è¦é€šçŸ¥ Caller çš„ï¼Œå¦‚æœè¿é€šçŸ¥éƒ½æ²¡æœ‰ï¼Œé‚£å‘ç”Ÿé—®é¢˜çš„æ¦‚ç‡å°±æ¯”è¾ƒå¤§äº†ã€‚

# Share

[TDD çš„ä¸€äº›å®è·µ](/2020/06/10/PracticeOfTDD)
